# 东方财富财务报告爬虫

## 业务价值

东方财富财务报告爬虫是一款专为金融分析师、投资研究人员和业务决策人员设计的数据采集工具，能够自动化爬取东方财富网的上市公司财务报告数据，帮助您：

- 📊 **快速获取全面的财务数据**：一键获取多家上市公司的核心财务指标、资产负债表、利润表和现金流量表
- ⏱️ **节省人工采集时间**：自动化数据采集流程，避免手动复制粘贴的繁琐工作
- 📈 **支持深入财务分析**：提供结构化数据，便于进行趋势分析、对比分析和财务建模
- 🔄 **实时更新数据**：可定期执行，确保数据的时效性和准确性
- 💼 **辅助投资决策**：基于最新财务数据，支持更科学的投资决策和风险评估

## 数据范围

### 支持的财务数据类型

| 数据类型 | 包含内容 | 业务用途 |
|---------|---------|----------|
| **核心财务指标** | 每股收益、净资产收益率、毛利率、净利率、资产负债率等关键指标 | 快速评估公司财务状况和盈利能力 |
| **资产负债表** | 资产、负债、所有者权益等详细数据 | 分析公司资产结构和偿债能力 |
| **利润表** | 营业收入、成本、费用、利润等 | 评估公司经营业绩和盈利能力 |
| **现金流量表** | 经营活动、投资活动、筹资活动现金流量 | 分析公司现金流状况和资金管理能力 |
| **高管变动信息** | 上市公司高管人员的变动情况 | 关注公司治理和管理层稳定性 |
| **高管信息** | 高管人员的基本信息、履历和薪酬 | 了解公司管理团队背景 |

### 支持的上市公司范围

- 沪深A股上市公司
- 可通过配置文件灵活指定要爬取的股票列表

## 快速开始

### 1. 环境准备

- Python 3.7+ 运行环境
- MySQL 数据库（用于存储爬取的数据）

### 2. 配置步骤

#### 2.1 配置数据库连接

打开 `eastmoney_fin_report_crawler/settings.py` 文件，配置您的 MySQL 数据库信息：

```python
# MySQL配置
MYSQL_HOST = "数据库服务器地址"
MYSQL_PORT = 3306  # 数据库端口
MYSQL_USER = "数据库用户名"
MYSQL_PASSWORD = "数据库密码"
MYSQL_DB = '数据库名称'
```

#### 2.2 配置要爬取的股票

在同一配置文件中，修改 `STOCKS` 列表，添加您需要爬取的股票代码：

```python
STOCKS = ['600519.SH', '000858.SZ', '000568.SZ']  # 示例：贵州茅台、五粮液、泸州老窖
```

### 3. 运行爬虫

#### 3.1 直接运行指定爬虫

执行 `run.py` 脚本，默认爬取利润表数据：

```bash
python run.py
```

#### 3.2 运行其他类型的爬虫

使用 Crawlo 命令运行特定类型的爬虫：

| 爬虫命令 | 爬取数据类型 |
|---------|------------|
| `crawlo crawl core_financial_indicators` | 核心财务指标 |
| `crawlo crawl balance_sheet` | 资产负债表 |
| `crawlo crawl income_statement` | 利润表 |
| `crawlo crawl statement_cash_flows` | 现金流量表 |
| `crawlo crawl listed_executive_changes` | 高管变动 |
| `crawlo crawl senior_executives` | 高管信息 |

## 数据使用指南

### 数据存储位置

爬取的数据将存储在您配置的 MySQL 数据库中，每个数据类型对应一个独立的表：

| 数据类型 | 数据库表名 |
|---------|----------|
| 核心财务指标 | listed_finance_and_taxation_report |
| 资产负债表 | listed_balance_sheet_of_companies |
| 利润表 | listed_income_statement |
| 现金流量表 | listed_statement_of_cash_flows |
| 高管变动 | listed_executive_changes |
| 高管信息 | senior_executives |

### 数据字段说明

每个数据表包含丰富的字段，以核心财务指标为例，主要包含：

- 基础信息：股票代码、股票名称、报告日期
- 每股指标：基本每股收益、稀释每股收益、每股净资产等
- 盈利能力：营业总收入、毛利润、净利润、净资产收益率等
- 成长能力：营业总收入同比增长、净利润同比增长等
- 收益质量：销售净现金流/营业收入、经营净现金流/营业收入等
- 财务风险：流动比率、速动比率、资产负债率等
- 营运能力：总资产周转天数、存货周转天数、应收账款周转天数等

### 数据查询示例

查询某只股票的历年核心财务指标：

```sql
SELECT * FROM listed_finance_and_taxation_report 
WHERE stock_code = '600519.SH' 
ORDER BY report_date DESC;
```

比较多家公司的盈利能力：

```sql
SELECT stock_code, stock_name, report_date, roe_wa, gross_margin, net_margin 
FROM listed_finance_and_taxation_report 
WHERE report_date = '2024-12-31' 
AND stock_code IN ('600519.SH', '000858.SZ', '000568.SZ');
```

## 运行管理

### 查看运行日志

爬虫运行日志保存在 `logs/` 目录下，可通过以下命令查看：

```bash
tail -f logs/eastmoney_fin_report_crawler.log
```

日志包含以下信息：
- 爬虫启动和结束时间
- 爬取的数据量
- 错误信息和异常处理
- 警告信息（如缺失关键字段）

### 定时运行建议

为确保数据的时效性，建议定期运行爬虫：

- 季报发布期（4月、7月、10月、1月）：每周运行一次
- 非季报发布期：每月运行一次

## 业务最佳实践

### 1. 财务分析应用

- **趋势分析**：使用多年度数据，分析公司财务指标的变化趋势
- **同业对比**：比较同行业公司的财务表现，识别行业龙头和潜力公司
- **财务建模**：基于爬取的数据构建财务模型，进行估值和预测

### 2. 投资决策支持

- **筛选优质公司**：基于财务指标筛选出财务健康、盈利能力强的公司
- **风险预警**：监控关键财务指标的异常变化，及时发现风险信号
- **组合管理**：基于财务数据优化投资组合，分散风险

### 3. 行业研究

- **行业趋势分析**：分析行业整体财务表现，把握行业发展趋势
- **竞争格局研究**：了解行业内公司的竞争态势和市场份额变化
- **政策影响评估**：评估政策变化对行业财务表现的影响

## 注意事项

1. **合规使用**：请遵守东方财富网的使用条款和相关法律法规，合理使用爬取的数据
2. **爬取频率**：建议设置合理的爬取延迟，避免对网站服务器造成过大压力
3. **数据验证**：定期验证爬取数据的准确性，如有异常及时调整爬虫配置
4. **数据库备份**：定期备份数据库，防止数据丢失
5. **更新维护**：网站结构可能会变化，需要定期检查和更新爬虫代码

## 技术支持

如有以下需求，欢迎联系技术支持团队：

- 配置和运行问题
- 数据字段解释
- 定制化数据需求
- 爬虫功能扩展

## 许可证

MIT License
